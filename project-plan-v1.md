# 🐷 Pig Adventure - Re{define} Hackathon 项目计划书

---

## 项目概览

| 项目信息 | 详情 |
|---------|------|
| **项目名称** | Pig Adventure - Cozy Onchain Collectible Game |
| **赛道** | 🚀 Wildcard Track |
| **定位** | 首个在Starknet上的休闲收集游戏，结合Web2流畅体验与Web3资产所有权 |
| **截止日期** | 2026年2月28日 23:59 [DoraHacks](https://dorahacks.io/hackathon/redefine/detail) |
| **可用时间** | 22天（2月6日-2月28日） |
| **AI加速后** | 13天核心开发 + 9天buffer |

---

## 核心价值主张

1. **低门槛游戏化**：3分钟上手的Three.js游戏，无需理解区块链
2. **真实资产所有权**：猪角色NFT + 成就勋章NFT可交易
3. **Starknet优势验证**：展示低gas费如何让频繁mint成为可能（传统链做不到）
4. **Session Key创新**：玩家登录一次，游戏内操作无需反复签名

---

## 时间分配总览

| 阶段 | 原计划 | AI加速版 | 节省时间 |
|------|--------|----------|----------|
| Phase 1: 学习基础 | 5天(40h) | 3天(24h) | 2天 |
| Phase 2: 核心开发 | 10天(80h) | 5天(40h) | 5天 |
| Phase 3: 集成测试 | 4天(32h) | 3天(24h) | 1天 |
| Phase 4: 提交准备 | 3天(24h) | 2天(16h) | 1天 |
| **总计** | **22天(176h)** | **13天(104h)** | **9天buffer** |

---

# 详细路线图（AI加速整合版）

## Phase 1: 学习Starknet基础

> 🤖 **AI加速策略**：Claude生成所有配置文件和样板代码，你只需要理解核心概念

---

### Day 1-2: 环境配置 + 钱包体系
**原计划：16小时 → AI加速：8小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 安装Argent钱包 | 手动操作 | 0.5h | 0.5h |
| 创建Sepolia钱包 | 手动操作 | 1h | 1h |
| 领取测试币 | 手动操作 | 0.5h | 0.5h |
| 学习Starknet地址体系 | AI总结文档 | 2h | 0.5h |
| 理解账户抽象 | AI解释概念 | 4h | 1h |
| 完成测试转账 | 手动验证 | 1h | 1h |
| 配置开发环境 | AI生成配置 | 4h | 1h |
| 交易签名流程 | AI代码示例 | 3h | 0.5h |

#### 🤖 AI加速操作

**让Claude生成环境配置：**
```
"帮我生成Starknet项目的完整配置文件：
1. tsconfig.json（支持Cairo合约类型）
2. package.json（包含starknet、starknetkit依赖）
3. vite.config.ts
4. .env.example（包含RPC URL、Chain ID）

说明：这是Starknet Sepolia测试网项目"
```

**让Claude解释核心概念：**
```
"请用类比的方式解释：
1. Starknet的账户抽象和以太坊EOA的区别
2. Starknet的交易签名流程
3. 0x开头的地址格式

请用简单的例子，不要太技术化。"
```

**✅ 必须自己做的（AI无法替代）：**
- 实际操作钱包安装和转账
- 亲身感受交易确认等待时间
- 理解账户抽象的原理（要能讲出来）

---

### Day 3-4: Scaffold-Stark快速上手
**原计划：16小时 → AI加速：10小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| Clone仓库 | 手动操作 | 0.5h | 0.5h |
| Yarn安装 | 手动操作 | 1h | 1h |
| 跑通默认demo | AI辅助debug | 4h | 2h |
| 修改前端文字 | AI生成代码 | 2h | 0.5h |
| 部署到测试网 | AI写部署脚本 | 4h | 2h |
| 理解项目结构 | AI解释架构 | 3h | 1h |
| 验证合约调用 | AI生成测试代码 | 1.5h | 0.5h |

#### 🤖 AI加速操作

**遇到报错时：**
```
"错误信息：[粘贴完整报错]
我正在用Scaffold-Stark，已经执行了yarn install和yarn chain。
请分析原因并给出修复步骤。"
```

**让AI解释项目结构：**
```
"请分析Scaffold-Stark的项目结构：
1. 哪些文件夹是前端？哪些是合约？
2. package.json中的关键脚本有什么作用？
3. 如何添加一个新的合约文件？
4. 前端如何调用合约？

请用文件树的方式展示。"
```

**让AI生成部署脚本：**
```
"写一个自动化部署脚本：
1. 编译Cairo合约
2. 部署到Starknet Sepolia
3. 验证部署成功
4. 输出合约地址

要求：包含错误处理和进度提示"
```

**✅ 必须自己做的：**
- 实际跑一遍demo，感受整个流程
- 在Voyager浏览器上查看部署的合约
- 理解Scaffold-Stark的工作原理

---

### Day 5: ERC721 NFT合约研究
**原计划：8小时 → AI加速：6小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 研究OpenZeppelin库 | AI总结API | 2h | 0.5h |
| 找到ERC721模板 | AI直接给出 | 1h | 0.5h |
| 理解关键函数 | AI解释+示例 | 2h | 1h |
| 部署ERC721合约 | AI生成部署代码 | 2h | 1h |
| Mint测试NFT | AI生成调用代码 | 1h | 0.5h |

#### 🤖 AI加速操作

**让AI直接给出ERC721模板：**
```
"我需要一个Starknet上的ERC721 NFT合约：
1. 使用OpenZeppelin Cairo库
2. 实现mint函数（任何人可以mint）
3. 实现tokenURI返回元数据
4. 简单就好，不要复杂功能

请直接给出完整的合约代码。"
```

**让AI生成Mint调用代码：**
```
"写一个TypeScript函数，调用我部署的ERC721合约：
1. 连接Argent钱包
2. 调用mint函数
3. 等待交易确认
4. 显示交易哈希
5. 错误处理（gas不足、用户拒绝）

使用starknet.js库。"
```

**✅ 必须自己做的：**
- 实际在Starknet浏览器上查看合约
- 亲自mint一个测试NFT
- 理解NFT元数据的结构

---

## Phase 2: 核心开发

> 🤖 **AI加速策略**：所有样板代码、UI组件、合约调用代码全部由AI生成，你只需要整合和测试

---

### Day 6-7: 前端整合Starknet.js
**原计划：16小时 → AI加速：6小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 复制Three.js游戏 | 手动操作 | 1h | 1h |
| 安装依赖 | 手动操作 | 0.5h | 0.5h |
| 钱包连接模块 | AI生成完整代码 | 4h | 1h |
| Connect按钮UI | AI生成React组件 | 3h | 0.5h |
| 地址显示组件 | AI生成 | 2h | 0.5h |
| 状态管理 | AI生成Context | 3h | 1h |
| 测试连接流程 | AI辅助debug | 2.5h | 1h |

#### 🤖 AI加速操作

**让AI生成完整的钱包连接模块：**
```
"创建一个React Hook：useStarknetWallet

功能：
1. 连接/断开Argent钱包
2. 显示钱包地址（前6位+后4位格式）
3. 监听账户变化
4. 显示余额
5. 完整的TypeScript类型

使用starknetkit库，包含loading状态和错误处理。"
```

**让AI生成Connect按钮组件：**
```
"创建一个React组件：ConnectWalletButton

要求：
1. 显示当前连接状态（未连接/连接中/已连接）
2. 未连接时显示"Connect Wallet"
3. 连接后显示地址（0x1234...5678格式）
4. 点击可以断开连接
5. 包含loading动画
6. 使用Tailwind CSS样式

配合上面的useStarknetWallet hook使用。"
```

**✅ 必须自己做的：**
- 测试实际的钱包连接流程
- 在Argent钱包中验证授权
- 理解钱包连接的生命周期

---

### Day 8-10: NFT Mint功能开发
**原计划：24小时 → AI加速：8小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 设计NFT元数据 | AI生成JSON模板 | 2h | 0.5h |
| 上传IPFS | 手动操作 | 1h | 1h |
| Mint调用代码 | AI生成完整函数 | 6h | 2h |
| 游戏内触发逻辑 | AI集成代码 | 4h | 1h |
| 加载动画UI | AI生成组件 | 3h | 0.5h |
| 成功提示UI | AI生成 | 2h | 0.5h |
| 错误处理 | AI生成所有case | 3h | 1h |
| 测试完整流程 | 手动验证 | 3h | 1h |

#### 🤖 AI加速操作

**让AI生成Mint函数：**
```
"写一个完整的Mint NFT功能：

函数名：mintPigNFT(wallet, contractAddress, tokenId)

要求：
1. 使用starknet.js的Contract类
2. 调用ERC721的mint函数
3. 等待交易确认（带超时）
4. 返回{success, txHash, error}
5. 完整的错误处理：
   - Gas不足
   - 用户拒绝签名
   - 网络超时
   - 合约调用失败

包含TypeScript类型定义。"
```

**让AI生成Mint UI组件：**
```
"创建一个MintPigButton组件：

功能：
1. 点击后调用mintPigNFT
2. 显示minting进度（Minting... 25% 50% 75%）
3. 成功后显示✅和交易哈希链接
4. 失败后显示❌和错误信息
5. minting时禁用按钮
6. 使用Tailwind CSS，有动画效果

配合useStarknetWallet hook使用。"
```

**让AI集成到游戏逻辑：**
```
"我有这个Three.js游戏代码：
[粘贴你的游戏启动代码]

请修改：
1. 游戏首次启动时，检查钱包是否已有猪NFT
2. 如果没有，自动mint一个初始猪NFT
3. minting时显示加载遮罩
4. mint成功后进入游戏
5. mint失败时显示重试按钮

请直接给出修改后的完整代码。"
```

**✅ 必须自己做的：**
- 实际上传图片到IPFS
- 在Voyager浏览器验证mint成功
- 测试各种错误场景

---

### Day 11-13: 成就系统 + Legendary NFT
**原计划：24小时 → AI加速：6小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 修改游戏逻辑 | AI直接改代码 | 4h | 1h |
| 成就NFT元数据 | AI生成模板 | 1h | 0.5h |
| 成就Mint函数 | AI复制修改 | 3h | 0.5h |
| 庆祝动画 | AI生成Three.js粒子 | 6h | 2h |
| 音效集成 | AI给出方案 | 2h | 0.5h |
| 测试完整流程 | 手动验证 | 4h | 1h |
| 边界情况处理 | AI列出所有case | 4h | 0.5h |

#### 🤖 AI加速操作

**让AI直接修改游戏逻辑：**
```
"我的Three.js游戏有这个函数：
[粘贴onCollectLegendary相关代码]

请修改为：
1. 添加legendaryCount计数器
2. 当收集到第5个legendary时
3. 自动调用mintAchievementNFT("Pig King")
4. 显示庆祝动画（粒子效果）
5. 播放音效

请直接给出修改后的完整代码，保持原有代码风格。"
```

**让AI生成庆祝动画：**
```
"用Three.js创建一个庆祝动画：

场景：游戏中心
效果：
1. 从中心向外发射金色粒子
2. 粒子带尾迹效果
3. 持续3秒
4. 伴随缩放动画
5. 性能优化（使用BufferGeometry）

请给出完整可运行的代码。"
```

**✅ 必须自己做的：**
- 实际收集5个legendary测试
- 在钱包中验证成就NFT
- 调整动画效果到满意

---

### Day 14-15: Session Key集成（可选）
**原计划：16小时 → AI加速：6小时 或 跳过**

> ⚠️ **建议**：Session Key是加分项，不是必需项。如果时间不够，直接跳过。

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| 研究Session Key文档 | AI总结 | 4h | 1h |
| Session授权代码 | AI生成 | 4h | 1h |
| 修改成就Mint | AI修改 | 3h | 1h |
| 权限UI组件 | AI生成 | 3h | 0.5h |
| 测试完整流程 | 手动验证 | 2h | 1h |

#### 🤖 AI加速操作

**让AI研究Session Key并生成代码：**
```
"我需要在Starknet游戏中实现Session Key功能：

目标：
1. 玩家授权游戏合约可以代其mint（限额5次）
2. 后续mint操作无需用户确认
3. 显示剩余授权次数

使用Argent钱包的Session Key功能。
请给出：
1. Session授权的代码
2. 使用Session Key进行mint的代码
3. 权限管理的UI组件

如果Argent的Session Key文档不完善，请告诉我最简单的替代方案。"
```

**✅ 必须自己做的：**
- 验证Session Key确实无需签名
- 测试授权次数限制

---

## Phase 3: 集成测试 + 优化

> 🤖 **AI加速策略**：AI生成测试用例、分析性能瓶颈、生成优化代码

---

### Day 16-17: 完整流程测试
**原计划：16小时 → AI加速：12小时**

#### 测试场景

| 场景 | AI加速方法 | 说明 |
|------|-----------|------|
| 新用户流程 | AI生成测试清单 | 完整走一遍 |
| 老用户流程 | AI生成测试清单 | 跳过初始mint |
| 错误处理 | AI列出所有case | 逐个测试 |
| 边界情况 | AI生成边界测试 | 极端值测试 |

#### 🤖 AI加速操作

**让AI生成完整测试清单：**
```
"为我的Starknet游戏生成完整测试清单：

功能：
- 钱包连接
- Mint猪NFT
- 游戏收集系统
- 成就系统
- Session Key（如果有）

请生成：
1. 新用户完整流程测试（step by step）
2. 老用户流程测试
3. 所有错误场景测试（表格形式）
4. 边界情况测试
5. 性能测试要点

每个测试点要有预期结果。"
```

**遇到bug时：**
```
"错误场景：[描述如何触发]
错误信息：[粘贴完整报错]
相关代码：[粘贴函数]
环境：Starknet Sepolia测试网

请分析原因并给出修复代码。"
```

**✅ 必须自己做的：**
- 实际跑完所有测试场景
- 在真实环境中验证
- 体验完整用户流程

---

### Day 18-19: 性能优化 + UI打磨
**原计划：16小时 → AI加速：10小时**

#### 任务清单

| 任务 | AI加速方法 | 原时间 | 加速后 |
|------|-----------|--------|--------|
| Three.js性能分析 | AI分析瓶颈 | 4h | 1h |
| 降低多边形数 | AI生成优化代码 | 3h | 1h |
| 添加LOD | AI生成LOD代码 | 2h | 1h |
| 加载优化 | AI生成进度条 | 2h | 0.5h |
| UI样式统一 | AI生成Tailwind | 3h | 1h |
| 音效集成 | AI给出方案 | 2h | 0.5h |

#### 🤖 AI加速操作

**让AI分析性能瓶颈：**
```
"我的Three.js游戏性能不佳，请帮我分析：

[粘贴关键代码]

问题：
1. 帧数不稳定（有时低于30fps）
2. 加载时间长（10秒+）
3. collectibles数量多时卡顿

请给出：
1. 性能瓶颈分析
2. 具体优化方案（带代码）
3. 优化后的预期提升

优化方向：
- 降低多边形数
- 添加LOD
- 优化shadow map
- 实例化渲染
- 懒加载"
```

**让AI生成统一的UI样式：**
```
"为我的Starknet游戏生成统一UI：

配色：
- 主色：绿色（#10B981）
- 辅色：Starknet紫色（#6F42C1）
- 背景：深色（#1F2937）

组件：
1. ConnectWalletButton
2. MintPigButton
3. LoadingOverlay
4. SuccessToast
5. ErrorAlert

使用Tailwind CSS，要求：
- 统一的圆角（8px）
- 统一的阴影
- hover效果
- 动画过渡

请给出完整可用的代码。"
```

**✅ 必须自己做的：**
- 实际测试60fps稳定性
- 验证加载时间
- 调整UI到满意

---

## Phase 4: 提交准备

> 🤖 **AI加速策略**：AI写视频脚本、生成README、生成项目描述

---

### Day 20: 录制Demo视频
**原计划：8小时 → AI加速：4小时**

#### 🤖 AI加速操作

**让AI写视频脚本：**
```
"帮我写一个3分钟的黑客松demo视频脚本：

项目：Pig Adventure - Starknet上的休闲收集游戏

结构：
1. 开场（20秒）- 项目介绍
2. 痛点+解决方案（40秒）
3. 功能演示（60秒）- 实际操作
4. 技术亮点（40秒）
5. 结尾（20秒）

要求：
- 英文
- 口语化，不要太学术
- 突出创新点（Session Key + 休闲游戏）
- 强调Starknet优势

请给出逐字稿，包括画面描述。"
```

**✅ 必须自己做的：**
- 实际录制屏幕
- 剪辑视频
- 录音/配音

---

### Day 21: 文档编写
**原计划：8小时 → AI加速：2小时**

#### 🤖 AI加速操作

**让AI生成README：**
```
"根据我的项目生成GitHub README：

项目：Pig Adventure
技术栈：Three.js + Starknet.js + TypeScript + Cairo

功能：
- Three.js 3D游戏
- ERC721 NFT猪
- 成就系统
- Session Keys

请生成完整的README，包括：
1. 项目标题和简介
2. Features列表
3. Tech Stack
4. Live Demo链接（我用Netlify）
5. Installation步骤
6. 使用说明
7. 合约地址
8. License

用emoji让排版更友好。"
```

**让AI生成项目描述：**
```
"为DoraHacks黑客松写500字项目描述：

项目：Pig Adventure
限制：500字以内

结构：
- 问题（100字）：链游门槛高、gas贵、体验差
- 解决方案（150字）：Starknet优势 + Session Key
- 功能（150字）：NFT猪、收集系统、成就
- 技术（100字）：技术栈

要求：
- 英文
- 说服力强
- 突出创新点
- 吸引评委"
```

**✅ 必须自己做的：**
- 检查准确性
- 添加具体的demo链接
- 补充遗漏的信息

---

### Day 22: 最终部署 + 提交
**原计划：8小时 → AI加速：4小时**

#### 🤖 AI加速操作

**让AI生成部署配置：**
```
"为我的Starknet游戏生成Netlify部署配置：

项目结构：
- 前端：Vite + React
- 静态资源：/public
- 环境变量：.env

请生成：
1. netlify.toml配置文件
2. 构建命令
3. 环境变量设置
4. 自定义域名设置（可选）"
```

**✅ 必须自己做的：**
- 实际执行部署命令
- 在DoraHacks上填写表单
- 验证demo链接可访问

---

# 风险管理

## 高风险项评估

| 风险 | 概率 | 影响 | AI辅助应急方案 |
|------|------|------|---------------|
| Scaffold-Stark配置失败 | 中 | 高 | AI直接生成starknet.js配置 |
| Session Key太复杂 | 高 | 低 | AI生成替代方案或跳过 |
| IPFS上传失败 | 低 | 中 | AI生成base64方案 |
| 时间不足 | 中 | 高 | AI优先生成MVP代码 |

## MVP削减策略

**保留**（核心功能）：
- ✅ 钱包连接
- ✅ Mint初始猪NFT
- ✅ 基础Three.js游戏
- ✅ 3分钟视频

**可删除**（加分项）：
- ❌ Session Key
- ❌ 成就系统
- ❌ Mobile适配
- ❌ 音效

---

# AI使用指南

## 推荐工作流程

```
Claude Code (Opus) - 主力开发
  ↓ 生成代码
Windsurf/Cursor - 实时编辑
  ↓ 调试运行
浏览器 DevTools - 测试
  ↓ 发现bug
Claude Code - 快速修复
```

## 高效提示词模板

### 模板1：功能开发
```
背景：我在做Starknet黑客松游戏
技术栈：Three.js + Starknet.js + TypeScript
现状：[粘贴当前代码]
需求：[具体功能]
要求：
1. 完整类型定义
2. 错误处理（网络超时、gas不足、用户拒绝）
3. loading状态UI
4. 成功后显示交易哈希

请直接给出可运行的代码。
```

### 模板2：Debug加速
```
错误：[粘贴完整报错]
相关代码：[粘贴出错的函数]
环境：Starknet Sepolia测试网
已尝试：[你的尝试]

请分析原因并给出修复代码。
```

### 模板3：集成到现有代码
```
我的代码：
[粘贴你的代码]

请修改为：
[具体修改需求]

请直接给出修改后的完整代码，保持原有风格。
```

## AI无法压缩的时间

### 必须自己做的：
1. **实际等待时间**
   - 区块链交易确认：每次2-5分钟
   - IPFS上传：大文件需要时间
   - Faucet领币：有冷却期

2. **必需的学习理解**
   - Starknet账户抽象概念
   - 交易生命周期
   - NFT标准差异

3. **创意和策略**
   - 游戏设计调优
   - 视频脚本创意
   - 竞争分析

### 黄金法则
**你必须理解AI生成的每一行关键代码**
- 合约调用逻辑：必须懂
- 钱包交互流程：必须懂
- Three.js集成点：必须懂
- CSS样式：可以不懂细节

---

# 总结

## 时间对比

| 维度 | 传统开发 | AI加速 | 提升 |
|------|----------|--------|------|
| 样板代码 | 16h | 2h | 8x |
| 文档编写 | 8h | 1h | 8x |
| Debug时间 | 16h | 6h | 2.7x |
| 学习理解 | 24h | 20h | 1.2x |
| 测试验证 | 24h | 20h | 1.2x |
| **总体** | **176h** | **104h** | **1.7x** |

## 关键洞察

**AI最擅长"写代码"，但理解、测试、创意仍需你亲自做。**

### 你的优势
- JS/TS专家 + Claude Code = 前端开发10x
- 已有Three.js游戏 = 跳过游戏开发
- AI工具重度用户 = 提示词效率高

### 核心心态
- 这是个**学习机会**，不仅仅是比赛
- MVP优先：先做能跑的版本，再打磨
- 遇到卡点立即在Telegram求助

## 最终建议

**推荐方案：13天核心开发 + 9天buffer**

- 2月6-18日：全力开发（104小时）
- 2月19-27日：优化和应急（buffer）
- 2月28日：最终提交

这样即使中途卡壳，也有9天救场时间。

---

## 有用的链接

- [DoraHacks Hackathon](https://dorahacks.io/hackathon/redefine/detail)
- [Alchemy Faucet](https://www.alchemy.com/faucets/starknet-sepolia)
- [Scaffold-Stark GitHub](https://github.com/Scaffold-Stark/scaffold-stark-2)
- [Telegram社群](https://t.me/+-5zNW47GSdQ1ZDkx)
- [Scaffold-Stark教程](https://www.youtube.com/watch?v=k_ZR0mHg1B4)
